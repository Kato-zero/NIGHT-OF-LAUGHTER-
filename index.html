<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Night of Laughter</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="manifest.json">
  <style>
    html, body {
      font-size: 14px;
      font-family: "Segoe UI", Tahoma, sans-serif;
      margin: 0;
      background: #f9fafb;
      color: #333;
      box-sizing: border-box;
    }
    *, *:before, *:after { box-sizing: inherit; }
    header {
      background: linear-gradient(90deg, #ff5722, #ff9800);
      color: #fff;
      text-align: center;
      padding: 2em 1em;
    }
    header h1 {
      margin: 0;
      font-size: 2.2rem;
      letter-spacing: 1px;
    }
    nav {
      background: #fff;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      padding: 0.8em;
      text-align: center;
      position: sticky;
      top: 0;
      z-index: 10;
      font-size: 1em;
    }
    nav a {
      margin: 0 1.2em;
      text-decoration: none;
      color: #ff5722;
      font-weight: 600;
      transition: color .3s;
      font-size: 1em;
    }
    nav a:hover { color: #e64a19; }
    section {
      padding: 2.2em 1em;
      max-width: 1100px;
      margin: auto;
    }
    h2 {
      margin-bottom: 1.2em;
      color: #ff5722;
      font-size: 1.28em;
    }
    .event-list {
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(260px,1fr));
      gap: 1.5em;
      list-style: none;
      padding: 0;
    }
    .event-card {
      background: #fff;
      border-radius: 14px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      transition: transform .2s;
      font-size: 1em;
    }
    .event-card:hover { transform: translateY(-4px); }
    .event-card img {
      width: 100%;
      height: 160px;
      object-fit: cover;
      display:block;
    }
    .event-card h4 {
      margin: 0.85em;
      font-size: 1.18em;
      color: #ff5722;
    }
    .event-card p {
      margin: 0.45em 0.85em;
      font-size: 1em;
      color: #555;
    }
    form {
      display: grid;
      gap: 0.8em;
      max-width: 420px;
      margin-top: 1.2em;
      font-size: 1em;
    }
    input, select, button {
      padding: 0.85em;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 1em;
    }
    button {
      background: #ff5722;
      color: #fff;
      border: none;
      cursor: pointer;
      font-weight: 600;
      transition: 0.3s;
      font-size: 1em;
    }
    button:hover { background: #e64a19; }
    .hidden { display: none; }
    #paymentModal {
      position: fixed;
      top:0; left:0; right:0; bottom:0;
      background: rgba(0,0,0,0.6);
      display: none;
      justify-content: center;
      align-items: center;
      z-index:999;
    }
    #paymentBox {
      background:#fff;
      padding:1.7em;
      border-radius:14px;
      max-width:320px;
      width:100%;
      text-align:center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      font-size: 1em;
    }
    #paymentBox h3 {
      margin-top: 0;
      color: #ff5722;
      font-size: 1.15em;
    }
    #logoutBtn {
      background: #999;
      margin-bottom: 1.2em;
      font-size: 1em;
    }
    #logoutBtn:hover { background: #777; }
    /* QR Ticket Modal */
    #qrTicketModal {
      position: fixed;
      top:0; left:0; right:0; bottom:0;
      background: rgba(0,0,0,0.65);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    #qrTicketBox {
      background: #fff;
      border-radius: 14px;
      padding: 2.2em 1.2em 1.2em 1.2em;
      max-width: 350px;
      width: 100%;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      position: relative;
      font-size: 1em;
    }
    #qrTicketBox h3 { color: #ff5722; margin-bottom: 0.75em; font-size: 1.15em;}
    #qrTicketClose {
      position: absolute; top:0.6em; right:0.7em;
      background: #eee; border:none; border-radius:50%;
      width:1.8em; height:1.8em; font-size:1.1em; color:#ff5722; cursor:pointer;
    }
    /* Expandable list */
    .expand-list { margin: 1em 0; padding: 0; list-style: none; }
    .expand-list .expand-item {
      background: #fff; border-radius: 10px; margin-bottom: 0.7em;
      box-shadow: 0 1px 4px #aaa2;
      padding: 0;
      cursor: pointer;
      transition: background .2s;
      font-size: 1em;
    }
    .expand-list .expand-item:hover { background: #fff7f2; }
    .expand-list .expand-summary {
      padding: 1em 1.3em;
      font-size: 1em;
      color: #ff5722;
      font-weight: 600;
      display:flex;
      justify-content:space-between;
      align-items:center;
    }
    .expand-list .expand-details {
      padding: 0.7em 1.3em 1.1em 1.3em;
      background: #fffaee;
      color: #222;
      font-size: 1em;
      border-top: 1px solid #ffe0b2;
    }
    .expand-list .attended { color: green; font-weight: 700; }
    .expand-list .not-attended { color: #999; }
    .admin-stats { margin-bottom:0.85em; font-weight:600; color:#444; font-size: 1em;}
    #qrScanBox {
      margin:2em auto 0 auto; background:#fff; border-radius:14px; padding:1.2em; max-width:350px; box-shadow:0 2px 8px #aaa2;
      font-size: 1em;
    }
    #qr-reader { margin:0 auto; width:100%; max-width:260px;}
    #scan-result { margin-top:0.7em; color:#ff5722; font-weight:600; min-height:28px;}
    #scan-ticket-info {
      display:none;
      background:#fff7e6;
      padding:1.1em 1.3em;
      border-radius:12px;
      margin:1em 0 0 0;
      box-shadow:0 1px 6px #ffc10733;
      max-width:340px;
      font-size: 1em;
    }
    #scan-ticket-info b {
      color:#ff5722;
    }
    #scan-ticket-info .attended {
      color:green; font-weight:700;
    }
    #scan-ticket-info .not-attended {
      color:red; font-weight:700;
    }
    #scan-mark-attended {
      background:#ff9800; color:#fff; border:none; border-radius:9px; padding:0.6em 1.5em; font-weight:600; font-size:1em;
      margin-top:1em; cursor:pointer; transition:.2s;
    }
    #scan-mark-attended:hover { background:#e64a19; }
    @media (max-width:900px){
      section { max-width: 98vw; padding: 4vw 2vw; }
      .event-list { grid-template-columns: repeat(auto-fit,minmax(180px,1fr)); }
      #qrScanBox, #qrTicketBox { max-width: 98vw;}
    }
    @media (max-width:480px){
      header h1 { font-size: 1.2em; }
      section { padding: 5vw 1vw;}
      form, input, select, button { font-size: 1em;}
      .event-card h4,.event-card p { font-size: 1em;}
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/qrious@4.0.2/dist/qrious.min.js"></script>
  <script src="https://unpkg.com/html5-qrcode@2.3.10/html5-qrcode.min.js"></script>
</head>
<body>

<header>
  <h1>Night of Laughter</h1>
  <p>The Biggest Comedy Event in Zambia</p>
</header>

<nav>
  <a href="#events">Events</a>
  <a href="#tickets">Tickets</a>
  <a href="#admin">Sign In</a>
</nav>

<section id="events">
  <h2>Upcoming Events</h2>
  <ul class="event-list" id="eventList"></ul>
</section>

<section id="tickets">
  <h2>Buy Tickets</h2>
  <form id="ticketForm">
    <input type="text" id="buyerName" placeholder="Full Name" required>
    <input type="email" id="buyerEmail" placeholder="Email" required>
    <input type="tel" id="buyerPhone" placeholder="Phone Number (for payment)" required>
    <select id="eventSelect" required></select>
    <select id="ticketType" required>
      <option value="">Select Ticket Type</option>
      <option value="Ordinary">Ordinary</option>
      <option value="VIP">VIP</option>
    </select>
    <input type="number" id="ticketQuantity" placeholder="Quantity" min="1" value="1" required>
    <button type="submit">Register</button>
  </form>
  <div id="paymentOptions" class="hidden">
    <h3>Choose Payment Method</h3>
    <button id="payMTN">Pay with MTN</button>
    <button id="payAirtel">Pay with Airtel</button>
  </div>
</section>

<!-- Payment Modal -->
<div id="paymentModal">
  <div id="paymentBox">
    <h3 id="payTitle">Payment</h3>
    <p>Enter Amount & PIN</p>
    <input type="number" id="payAmount" placeholder="Amount"><br><br>
    <input type="password" id="payPin" placeholder="PIN"><br><br>
    <button id="confirmPay">Confirm</button>
    <button onclick="closePayment()">Cancel</button>
    <p id="payMessage" style="color:red;"></p>
  </div>
</div>

<!-- QR Ticket Modal -->
<div id="qrTicketModal">
  <div id="qrTicketBox">
    <button id="qrTicketClose" title="Close">&times;</button>
    <h3>Your Ticket QR Code</h3>
    <canvas id="ticketQR"></canvas>
    <div style="margin-top:14px;text-align:left; font-size:1em;">
      <b>Name:</b> <span id="qrTicketName"></span><br>
      <b>Email:</b> <span id="qrTicketEmail"></span><br>
      <b>Phone:</b> <span id="qrTicketPhone"></span><br>
      <b>Event:</b> <span id="qrTicketEvent"></span><br>
      <b>Type:</b> <span id="qrTicketType"></span><br>
      <b>Quantity:</b> <span id="qrTicketQty"></span><br>
      <b>Status:</b> <span id="qrTicketStatus"></span>
    </div>
    <div style="margin-top:12px;font-size:0.97em;color:#555;">
      Screenshot this QR code to use as your event ticket.
    </div>
  </div>
</div>

<section id="admin">
  <h2>Admin Panel</h2>
  <div id="loginSection">
    <input type="text" id="loginEmail" placeholder="Admin Username">
    <input type="password" id="loginPassword" placeholder="Password">
    <button id="loginBtn">Login</button>
    <p id="loginMessage" style="color:red;"></p>
  </div>
  <div id="adminSection" class="hidden">
    <button id="logoutBtn">Logout</button>
    <h3>Add Event</h3>
    <form id="addEventForm">
      <input type="text" id="eventName" placeholder="Event Name" required>
      <input type="text" id="eventDate" placeholder="Date" required>
      <input type="text" id="eventVenue" placeholder="Venue" required>
      <input type="number" id="ordinaryPrice" placeholder="Ordinary Price" required>
      <input type="number" id="vipPrice" placeholder="VIP Price" required>
      <input type="file" id="eventImage" accept="image/*">
      <button type="submit">Add Event</button>
    </form>

    <h3>Events</h3>
    <ul class="admin-event-list" id="adminEventList"></ul>

    <h3>Registered Tickets</h3>
    <div class="admin-stats">
      Total Tickets Sold: <span id="statSold">0</span> &nbsp;|&nbsp;
      Total Attendees: <span id="statAttended">0</span>
    </div>
    <input type="text" id="ticketSearch" placeholder="Search buyer by name...">
    <ul class="expand-list" id="ticketExpandList"></ul>
    <div id="qrScanBox">
      <h4>Scan Ticket QR to Mark Attendance</h4>
      <button id="startScannerBtn" style="margin-bottom:10px;">Start Scanner</button>
      <button id="stopScannerBtn" style="margin-bottom:10px;display:none;">Stop Scanner</button>
      <div id="qr-reader"></div>
      <div id="scan-result"></div>
      <div id="scan-ticket-info"></div>
    </div>
  </div>
</section>

<script>
  let events = JSON.parse(localStorage.getItem("events")) || [];
  let tickets = JSON.parse(localStorage.getItem("tickets")) || [];
  let currentTicket = null;
  let selectedMethod = "";
  let lastScan = "";
  let qrScannedTicketId = null;

  const eventList = document.getElementById("eventList");
  const eventSelect = document.getElementById("eventSelect");
  const adminEventList = document.getElementById("adminEventList");
  const ticketExpandList = document.getElementById("ticketExpandList");
  const statSold = document.getElementById("statSold");
  const statAttended = document.getElementById("statAttended");
  const scanTicketInfo = document.getElementById("scan-ticket-info");

  function renderEvents() {
    eventList.innerHTML = "";
    eventSelect.innerHTML = "<option value=''>Select Event</option>";
    adminEventList.innerHTML = "";
    events.forEach((e) => {
      const li = document.createElement("li");
      li.className = "event-card";
      li.innerHTML = `
        <img src="${e.image || "https://via.placeholder.com/300x160"}">
        <h4>${e.name}</h4>
        <p>${e.date} | ${e.venue}</p>
        <p>Ordinary: ZMW ${e.ordinaryPrice} | VIP: ZMW ${e.vipPrice}</p>
      `;
      eventList.appendChild(li);
      const opt = document.createElement("option");
      opt.value = e.name;
      opt.textContent = e.name;
      eventSelect.appendChild(opt);
      const liAdmin = document.createElement("li");
      liAdmin.innerHTML = `
        ${e.name} | ${e.date} | ${e.venue} | 
        Ordinary: ZMW ${e.ordinaryPrice} | VIP: ZMW ${e.vipPrice} | 
        Sold: ${tickets.filter(t=>t.event===e.name).length}
        <button onclick="removeEvent('${e.name}')">Remove</button>
      `;
      adminEventList.appendChild(liAdmin);
    });
  }
  renderEvents();

  function removeEvent(eventName) {
    if(confirm(`Are you sure you want to delete "${eventName}"?`)) {
      events = events.filter(ev => ev.name !== eventName);
      localStorage.setItem("events", JSON.stringify(events));
      renderEvents();
    }
  }

  document.getElementById("ticketForm").addEventListener("submit", e => {
    e.preventDefault();
    const name = buyerName.value;
    const email = buyerEmail.value;
    const phone = buyerPhone.value;
    const event = eventSelect.value;
    const type = ticketType.value;
    const qty = parseInt(ticketQuantity.value);
    if (!event || !type) return alert("Please select event and ticket type");
    const selectedEvent = events.find(ev=>ev.name===event);
    const price = type==="VIP"? selectedEvent.vipPrice : selectedEvent.ordinaryPrice;
    const total = price * qty;
    const ticketId = 'T_' + Math.random().toString(36).substr(2,9) + '_' + Date.now();
    currentTicket = { id: ticketId, name, email, phone, event, type, quantity: qty, total, status: "Pending", attended: false };
    document.getElementById("paymentOptions").classList.remove("hidden");
  });

  function openPayment(method) {
    selectedMethod = method;
    document.getElementById("paymentModal").style.display="flex";
    document.getElementById("payTitle").textContent = `Pay with ${method}`;
    document.getElementById("payMessage").textContent = "";
    document.getElementById("payAmount").value="";
    document.getElementById("payPin").value="";
  }
  function closePayment(){
    document.getElementById("paymentModal").style.display="none";
  }
  document.getElementById("payMTN").onclick=()=>openPayment("MTN");
  document.getElementById("payAirtel").onclick=()=>openPayment("Airtel");

  function showTicketQRModal(ticket) {
    document.getElementById("qrTicketModal").style.display = "flex";
    new QRious({
      element: document.getElementById("ticketQR"),
      value: ticket.id,
      size: 190,
    });
    document.getElementById("qrTicketName").textContent = ticket.name;
    document.getElementById("qrTicketEmail").textContent = ticket.email;
    document.getElementById("qrTicketPhone").textContent = ticket.phone;
    document.getElementById("qrTicketEvent").textContent = ticket.event;
    document.getElementById("qrTicketType").textContent = ticket.type;
    document.getElementById("qrTicketQty").textContent = ticket.quantity;
    document.getElementById("qrTicketStatus").textContent = ticket.status;
  }
  document.getElementById("qrTicketClose").onclick = function() {
    document.getElementById("qrTicketModal").style.display = "none";
    document.getElementById("ticketForm").reset();
  };

  document.getElementById("confirmPay").onclick=()=>{
    const amount = parseFloat(document.getElementById("payAmount").value);
    const pin = document.getElementById("payPin").value;
    if(amount !== currentTicket.total){
      document.getElementById("payMessage").textContent="Incorrect amount!";
      return;
    }
    if(pin.length<4){
      document.getElementById("payMessage").textContent="PIN must be at least 4 digits!";
      return;
    }
    currentTicket.status = `Paid via ${selectedMethod}`;
    tickets.push(currentTicket);
    localStorage.setItem("tickets",JSON.stringify(tickets));
    renderEvents();
    renderTicketsExpandList();
    closePayment();
    document.getElementById("paymentOptions").classList.add("hidden");
    showTicketQRModal(currentTicket);
  }

  const ADMIN_EMAIL="admin", ADMIN_PASS="1234";
  document.getElementById("loginBtn").onclick=()=>{
    const emailVal=document.getElementById("loginEmail").value.trim();
    const passVal=document.getElementById("loginPassword").value.trim();
    if(emailVal===ADMIN_EMAIL && passVal===ADMIN_PASS){
      document.getElementById("loginSection").classList.add("hidden");
      document.getElementById("adminSection").classList.remove("hidden");
      renderTicketsExpandList();
      document.getElementById("startScannerBtn").style.display = "inline-block";
      document.getElementById("stopScannerBtn").style.display = "none";
      document.getElementById("qr-reader").innerHTML = "";
      hideScanTicketInfo();
      document.getElementById("scan-result").innerText = "";
      // Do not auto start scanner, user can click button
      document.getElementById("loginMessage").textContent = "";
    }else{
      document.getElementById("loginMessage").textContent="Invalid credentials! Username: admin, Password: 1234";
    }
  }
  document.getElementById("logoutBtn").onclick=()=>{
    document.getElementById("loginSection").classList.remove("hidden");
    document.getElementById("adminSection").classList.add("hidden");
    stopQRScanner();
  }

  addEventForm.onsubmit=e=>{
    e.preventDefault();
    const reader = new FileReader();
    const file = eventImage.files[0];
    reader.onload=()=>{
      events.push({
        name:eventName.value,
        date:eventDate.value,
        venue:eventVenue.value,
        ordinaryPrice:ordinaryPrice.value,
        vipPrice:vipPrice.value,
        image:reader.result
      });
      localStorage.setItem("events",JSON.stringify(events));
      renderEvents();
      addEventForm.reset();
    }
    if(file) reader.readAsDataURL(file); else {
      events.push({
        name:eventName.value,
        date:eventDate.value,
        venue:eventVenue.value,
        ordinaryPrice:ordinaryPrice.value,
        vipPrice:vipPrice.value,
        image:""
      });
      localStorage.setItem("events",JSON.stringify(events));
      renderEvents();
      addEventForm.reset();
    }
  }

  function toggleAttendance(ticketId){
    tickets = tickets.map(t => t.id === ticketId ? {...t, attended: !t.attended} : t);
    localStorage.setItem("tickets",JSON.stringify(tickets));
    renderTicketsExpandList();
    if (qrScannedTicketId === ticketId) showScanTicketInfo(ticketId);
  }
  function deleteTicket(ticketId){
    if(confirm("Are you sure you want to delete this ticket?")){
      tickets = tickets.filter(t => t.id !== ticketId);
      localStorage.setItem("tickets",JSON.stringify(tickets));
      renderTicketsExpandList();
      if (qrScannedTicketId === ticketId) hideScanTicketInfo();
    }
  }

  function renderTicketsExpandList(search=""){
    ticketExpandList.innerHTML = "";
    let filtered = tickets.filter(t=>t.name.toLowerCase().includes(search.toLowerCase()));
    statSold.textContent = tickets.length;
    statAttended.textContent = tickets.filter(t=>t.attended).length;
    filtered.forEach((t, i) => {
      let li = document.createElement("li");
      li.className = "expand-item";
      let summary = document.createElement("div");
      summary.className = "expand-summary";
      summary.innerHTML = `
        ${t.name}
        <span class="${t.attended ? 'attended' : 'not-attended'}">
          ${t.attended ? '✔️ Attended' : 'Not attended'}
        </span>
        <span style="font-size:.8em;color:#999;">&#x25BC;</span>
      `;
      summary.onclick = () => {
        let details = li.querySelector(".expand-details");
        if(details) {
          details.remove();
        } else {
          let d = document.createElement("div");
          d.className = "expand-details";
          d.innerHTML = `
            <b>Email:</b> ${t.email}<br>
            <b>Phone:</b> ${t.phone}<br>
            <b>Event:</b> ${t.event}<br>
            <b>Type:</b> ${t.type}<br>
            <b>Quantity:</b> ${t.quantity}<br>
            <b>Status:</b> ${t.status}<br>
            <b>Ticket ID:</b> ${t.id}<br>
            <b>Attended:</b> ${t.attended ? '<span style="color:green">Yes</span>' : '<span style="color:red">No</span>'}
            <br>
            <button onclick="toggleAttendance('${t.id}')">${t.attended ? "Mark Absent":"Mark Attended"}</button>
            <button onclick="deleteTicket('${t.id}')">Delete</button>
          `;
          li.appendChild(d);
        }
      };
      li.appendChild(summary);
      ticketExpandList.appendChild(li);
    });
  }

  document.getElementById("ticketSearch").oninput=e=>renderTicketsExpandList(e.target.value);

  // QR Scanner Start/Stop
  let qrScanner = null;
  let scannerActive = false;

  function onScanSuccess(decodedText, decodedResult) {
    if (decodedText === lastScan) return;
    lastScan = decodedText;
    let ticket = tickets.find(t => t.id === decodedText);
    qrScannedTicketId = decodedText;
    if (!ticket) {
      document.getElementById("scan-result").innerText = "Ticket not found!";
      hideScanTicketInfo();
      return;
    }
    document.getElementById("scan-result").innerText = "";
    showScanTicketInfo(decodedText);
    if (!ticket.attended) {
      document.getElementById('scan-mark-attended').onclick = function() {
        toggleAttendance(ticket.id);
      };
    }
  }

  function showScanTicketInfo(ticketId) {
    let ticket = tickets.find(t => t.id === ticketId);
    if (!ticket) {
      scanTicketInfo.style.display = "none";
      scanTicketInfo.innerHTML = "";
      return;
    }
    scanTicketInfo.style.display = "block";
    scanTicketInfo.innerHTML = `
      <b>Name:</b> ${ticket.name}<br>
      <b>Email:</b> ${ticket.email}<br>
      <b>Phone:</b> ${ticket.phone}<br>
      <b>Event:</b> ${ticket.event}<br>
      <b>Type:</b> ${ticket.type}<br>
      <b>Quantity:</b> ${ticket.quantity}<br>
      <b>Status:</b> ${ticket.status}<br>
      <b>Attended:</b> <span class="${ticket.attended ? "attended":"not-attended"}">${ticket.attended ? "Yes":"No"}</span>
      <br>
      <button id="scan-mark-attended" ${ticket.attended ? "disabled":""}>
        ${ticket.attended ? "Already Attended":"Mark as Attended"}
      </button>
    `;
    if (!ticket.attended) {
      document.getElementById('scan-mark-attended').onclick = function() {
        toggleAttendance(ticketId);
      };
    }
  }
  function hideScanTicketInfo() {
    scanTicketInfo.style.display = "none";
    scanTicketInfo.innerHTML = "";
    qrScannedTicketId = null;
  }

  function startQRScanner() {
    if(qrScanner || scannerActive) return;
    qrScanner = new Html5Qrcode("qr-reader");
    Html5Qrcode.getCameras().then(cameras => {
      if (cameras && cameras.length) {
        qrScanner.start(
          cameras[0].id,
          { fps: 10, qrbox: 200 },
          onScanSuccess,
          errorMessage => {}
        ).then(() => {
          scannerActive = true;
          document.getElementById("startScannerBtn").style.display = "none";
          document.getElementById("stopScannerBtn").style.display = "inline-block";
        });
      }
    }).catch(err => {
      document.getElementById('qr-reader').innerText = 'No camera found. QR scanner not available.';
    });
  }
  function stopQRScanner() {
    if(qrScanner && scannerActive) {
      qrScanner.stop().then(() => {
        qrScanner.clear();
        qrScanner = null;
        scannerActive = false;
        document.getElementById("startScannerBtn").style.display = "inline-block";
        document.getElementById("stopScannerBtn").style.display = "none";
        hideScanTicketInfo();
        document.getElementById("scan-result").innerText = "";
      });
    }
  }

  document.getElementById("startScannerBtn").onclick = startQRScanner;
  document.getElementById("stopScannerBtn").onclick = stopQRScanner;

  // Initial admin list rendering
  renderTicketsExpandList();

</script>
</body>
</html>

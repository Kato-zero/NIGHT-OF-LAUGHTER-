<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NIGHT OF LAUGHTER Upcoming Events | Buy Tickets</title>
    <link rel="icon" type="image/png" sizes="512x512" href="favicon.png">

    <!-- SEO Meta Tags -->
    <meta name="description" content="Night of Laughter is Zambia's premier comedy platform featuring top stand-up comedians like Chingliz, Ba Emma, Smoke, Juss, Rhema, and Bob Nkosha. Buy instant digital tickets for featured and upcoming comedy events in Lusaka and beyond.">
    <meta name="keywords" content="Night of Laughter, Zambia comedy event, stand-up comedy Zambia, ZED Laugh Festival, comedy shows Lusaka, Chingliz, Ba Emma, Smoke, Juss">
    <meta name="author" content="Night of Laughter Event Team">
    
    <style>
        :root {
            --blue: #007bff;
            --deep-blue: #1176d6;
            --gray-bg: #f2f2f2;
            --white: #fff;
            --black: #333;
            --offwhite: #f9f9f9;
            --card-shadow: 0 4px 10px rgba(0,0,0,.11);
        }
        html, body {
            margin: 0;
            padding: 0;
            font-family: system-ui, Arial, sans-serif;
            background: var(--gray-bg);
            color: var(--black);
            scroll-behavior: smooth;
        }
        header{
            width: 100%;
            background: var(--white);
            padding: 15px 5vw;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            position: fixed;
            top:0; left:0; z-index: 100;
        }
        .header-left { display: flex; align-items: center; }
        .header-logo { height: 105px; width: auto; }
        nav {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }
        nav a {
            padding: 8px 16px;
            color: var(--black);
            font-weight: 600;
            font-size: 12px;
            text-decoration: none;
            border-radius: 8px;
            transition: background .12s, color .14s;
        }
        nav a:hover, nav a:focus {
            background: #eaeaea;
            color: var(--blue);
        }
        .hero{ 
            width: 100%; height: 60vh; min-height: 290px;
            background: url('https://i.postimg.cc/28FNfrwW/1764496645079.jpg') center/cover no-repeat;
            display: flex; justify-content: center; align-items: center; text-align: center;
            padding: 0 7vw; margin-top: 65px;
        }
        .hero h1{ color: var(--white); font-size: 2.5rem; margin-bottom: 10px; text-shadow: 0 2px 10px rgba(0,0,0,.3);}
        .hero p{ color: #eee; font-size: 1.15rem; margin-bottom: 18px; text-shadow: 0 2px 6px rgba(0,0,0,0.4);}
        
        /* Main content sections */
        .featured, .events, .section-content { 
            width: 100%; 
            padding: 2rem 5vw 0 5vw; 
            box-sizing: border-box; 
        }
        .featured h2, .events h2, .section-title {
            font-size: 1.6rem; 
            margin-bottom: 20px;
        }
        .event-list { 
            display: flex; 
            flex-wrap: wrap; 
            gap: 2vw; 
            justify-content: center; 
        }
        .event-card {
            width: 100%;
            max-width: 370px;
            background: var(--white);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            margin: 36px 0;
            display: flex;
            flex-direction: column;
            transition: box-shadow .13s;
        }
        .event-card:hover { 
            box-shadow: 0 4px 16px rgba(17,118,214,0.11);
        }
        .event-thumb {
            width: 100%;
            aspect-ratio: 1 / 1;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #ebebeb;
        }
        .event-thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        .event-content {
            padding: 15px;
            flex: 1;
            line-height: 1.6;
            display: flex; 
            flex-direction: column; 
            justify-content: flex-start;
        }
        .event-title{
            font-size: 1.2rem; 
            font-weight: bold; 
            margin-bottom: 6px;
        }
        .info-label{ font-weight: bold;}
        .price-box {
            margin-top: 8px;
            padding: 10px;
            background: var(--offwhite);
            border-radius: 8px;
            font-size: 0.97em;
        }
        .btn-row{
            display: flex; 
            flex-wrap: wrap; 
            justify-content: space-between; 
            align-items:center; 
            margin-top: 14px; 
            gap:12px;
        }
        .btn {
            flex: 1 1 46%;
            padding: 11px 0;
            background: var(--blue);
            color: var(--white);
            text-align: center;
            border-radius: 6px;
            text-decoration: none;
            font-weight: bold;
            cursor: pointer;
            border: none;
            transition: background .11s, opacity .11s, transform .2s;
            font-size: 1rem;
            min-width: 120px;
        }
        .btn.info{ background: #444; }
        .btn:hover, .btn:focus { 
            opacity:0.93;
            transform: translateY(-2px);
        }
        
        /* Section Styling */
        .section-content {
            padding: 4rem 5vw;
        }
        .section-bg-light {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }
        .section-bg-white {
            background: var(--white);
        }
        .section-title {
            text-align: center;
            margin-bottom: 3rem;
            font-size: 2.2rem;
            font-weight: bold;
            color: #1176d6;
            position: relative;
            display: inline-block;
        }
        .section-title span {
            position: relative;
            z-index: 2;
        }
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 5px;
            left: 0;
            width: 100%;
            height: 8px;
            background: rgba(17, 118, 214, 0.2);
            z-index: 1;
        }
        
        /* FAQ Styling */
        .faq-item {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: all 0.3s;
            margin-bottom: 10px;
        }
        .faq-item.active {
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .faq-question {
            width: 100%;
            padding: 1.5rem 2rem;
            background: white;
            border: none;
            text-align: left;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            color: #333;
            transition: background 0.3s;
        }
        .faq-question:hover {
            background: #f8f9fa;
        }
        .faq-item.active .faq-question {
            background: #f0f7ff;
        }
        .faq-icon {
            font-size: 1.5rem;
            color: #1176d6;
            transition: transform 0.3s;
        }
        .faq-item.active .faq-icon {
            transform: rotate(45deg);
        }
        .faq-answer {
            padding: 0 2rem;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s;
        }
        .faq-item.active .faq-answer {
            max-height: 1000px;
            padding-bottom: 2rem;
        }
        
        /* Contact Form */
        .contact-form input:focus,
        .contact-form select:focus,
        .contact-form textarea:focus {
            outline: none;
            border-color: #1176d6;
            box-shadow: 0 0 0 3px rgba(17, 118, 214, 0.1);
        }
        
        /* Testimonial Styling */
        .testimonial-item {
            background: white;
            border-radius: 15px;
            padding: 2.5rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease, transform 0.6s ease;
            position: relative;
            overflow: hidden;
            margin-bottom: 2rem;
        }
        .testimonial-item.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .testimonial-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.12);
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            justify-content: center; align-items: center;
            z-index: 3000;
            overflow: auto;
        }
        .modal-content {
            background: var(--white);
            padding: 25px;
            width: 95vw; max-width: 500px;
            border-radius: 15px;
            position: relative;
            box-shadow: 0 9px 32px rgba(0,0,0,0.3);
            max-height: 90vh;
            overflow-y: auto;
        }
        .close {
            position: absolute;
            top: 15px; right: 20px;
            color: #444; font-size: 2.2rem; font-weight: bold; cursor: pointer;
        }
        
        /* Admin Panel */
        .admin-panel {
            display: none;
            position: fixed;
            top: 70px;
            right: 20px;
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            z-index: 2000;
            max-width: 300px;
        }
        .admin-toggle {
            position: fixed;
            top: 70px;
            right: 20px;
            background: var(--blue);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 2001;
            font-weight: bold;
        }
        
        /* Loader */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--blue);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        footer{
            background: #222;
            padding: 20px 7vw;
            color: #ccc;
            text-align: center;
            margin-top: 50px;
            font-size: 0.95em;
        }

        /* Responsive */
        @media screen and (max-width: 768px) {
            header { 
                flex-direction: column; 
                align-items: flex-start; 
                padding: 12px 3vw; 
            }
            .header-logo { height: 42px;}
            nav { 
                margin-top: 10px; 
                gap: 4px;
                width: 100%;
                overflow-x: auto;
                padding-bottom: 5px;
            }
            nav a {
                white-space: nowrap;
                font-size: 11px;
                padding: 6px 12px;
            }
            .hero {
                min-height: 170px; 
                height: 40vh; 
                padding: 0 2vw;
                margin-top: 52px;
            }
            .hero h1{ font-size:1.37rem;}
            .hero p{ font-size: 1rem;}
            .event-card{ 
                max-width:98vw; 
                margin:24px 0;
            }
            .modal-content{ 
                max-width:95vw; 
                padding: 20px 15px;
            }
            .admin-toggle { 
                top: 120px; 
                right: 10px; 
            }
            .section-content {
                padding: 3rem 5vw;
            }
        }
        
        @media screen and (max-width: 480px) {
            .btn-row {
                flex-direction: column;
            }
            .btn {
                width: 100%;
                min-width: auto;
            }
        }
    </style>
    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <!-- Admin Panel Toggle -->
    <button class="admin-toggle" onclick="toggleAdminPanel()">‚öôÔ∏è</button>
    
    <!-- Admin Panel -->
    <div class="admin-panel" id="adminPanel">
        <h3 style="margin-top: 0; margin-bottom: 15px;">Event Management</h3>
        <div style="margin-bottom: 15px;">
            <button class="btn" onclick="refreshEvents()" style="width: 100%; margin-bottom: 10px;">
                üîÑ Refresh Events
            </button>
            <button class="btn" onclick="openAddEventForm()" style="width: 100%; background: #28a745;">
                ‚ûï Add New Event
            </button>
        </div>
        <div style="font-size: 12px; color: #666;">
            <p><strong>Current API URL:</strong></p>
            <input type="text" id="apiUrl" style="width: 100%; padding: 5px; font-size: 11px; margin-bottom: 10px;" 
                   readonly>
            <button onclick="copyApiUrl()" style="width: 100%; padding: 8px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer;">
                Copy API URL
            </button>
        </div>
    </div>

    <header>
        <div class="header-left">
            <img src="logo.png" alt="Night of Laughter Logo" class="header-logo" loading="lazy">
        </div>
        <nav id="navMenu">
            <a href="#featuredSection">Featured Events</a>
            <a href="#aboutSection">About</a>
            <a href="#eventsSection">Upcoming Events</a>
            <a href="#testimonialsSection">Testimonials</a>
            <a href="#faqSection">FAQ</a>
            <a href="#contactSection">Contact</a>
        </nav>
    </header>
    
    <!-- Payment Status Banner -->
    <div id="paymentStatusBanner" style="display: none; margin-top: 70px;"></div>
    
    <section class="hero">
        <div>
            <h1>NIGHT OF LAUGHTER</h1>
            <p>Instant digital tickets. No queues. No stress.</p>
        </div>
    </section>
    
    <!-- Loading State -->
    <section class="featured" id="featuredSection">
        <div class="loader" id="featuredLoader"></div>
    </section>
    
    <!-- About Section -->
    <section id="aboutSection" class="section-content section-bg-light">
        <div style="max-width: 1200px; margin: 0 auto;">
            <h2 class="section-title">About Night of Laughter</h2>
            <p style="font-size: 1.2rem; color: #555; max-width: 800px; margin: 0 auto 2rem; text-align: center;">
                Zambia's Premier Comedy Platform - Where Laughter Meets Excellence
            </p>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin-bottom: 3rem;">
                <div>
                    <h3 style="font-size: 1.8rem; color: #333; margin-bottom: 1.5rem; border-left: 4px solid #1176d6; padding-left: 15px;">
                        Our Story
                    </h3>
                    <p style="font-size: 1.1rem; color: #555; line-height: 1.8; margin-bottom: 1.5rem;">
                        Founded in 2022, <strong>Night of Laughter</strong> emerged as Zambia's first professional comedy platform dedicated to showcasing the nation's top comedic talent. What began as a small gathering of comedy enthusiasts has evolved into the country's leading comedy production company.
                    </p>
                    <p style="font-size: 1.1rem; color: #555; line-height: 1.8; margin-bottom: 1.5rem;">
                        Our mission is simple: to create unforgettable comedy experiences, nurture local talent, and bring world-class humor to audiences across Zambia and beyond. We believe laughter is universal, and through our events, we're building a community that celebrates comedy as an art form.
                    </p>
                </div>

                <div>
                    <h3 style="font-size: 1.8rem; color: #333; margin-bottom: 1.5rem; border-left: 4px solid #1176d6; padding-left: 15px;">
                        What We Do
                    </h3>
                    <div style="background: white; padding: 1.5rem; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.08);">
                        <div style="display: flex; align-items: start; margin-bottom: 1rem;">
                            <div style="background: #1176d6; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 15px; flex-shrink: 0;">
                                <span style="font-weight: bold;">‚úì</span>
                            </div>
                            <div>
                                <h4 style="margin: 0 0 5px 0; color: #333;">Comedy Events & Festivals</h4>
                                <p style="margin: 0; color: #666; font-size: 0.95rem;">Producing large-scale comedy shows featuring top Zambian and international comedians</p>
                            </div>
                        </div>
                        <div style="display: flex; align-items: start; margin-bottom: 1rem;">
                            <div style="background: #1176d6; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 15px; flex-shrink: 0;">
                                <span style="font-weight: bold;">‚úì</span>
                            </div>
                            <div>
                                <h4 style="margin: 0 0 5px 0; color: #333;">Talent Development</h4>
                                <p style="margin: 0; color: #666; font-size: 0.95rem;">Nurturing emerging comedians through workshops and open mic nights</p>
                            </div>
                        </div>
                        <div style="display: flex; align-items: start;">
                            <div style="background: #1176d6; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 15px; flex-shrink: 0;">
                                <span style="font-weight: bold;">‚úì</span>
                            </div>
                            <div>
                                <h4 style="margin: 0 0 5px 0; color: #333;">Digital Ticketing</h4>
                                <p style="margin: 0; color: #666; font-size: 0.95rem;">Providing seamless, instant digital ticket experiences for comedy fans</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Upcoming Events -->
    <section class="events" id="eventsSection">
        <div class="loader" id="eventsLoader"></div>
    </section>
    
    <!-- Testimonials Section -->
    <section id="testimonialsSection" class="section-content section-bg-light">
        <div style="max-width: 1200px; margin: 0 auto;">
            <h2 class="section-title">Audience Experiences</h2>
            <p style="font-size: 1.1rem; color: #666; max-width: 600px; margin: 1rem auto 2rem; text-align: center;">
                Real stories from our comedy community
            </p>

            <!-- Testimonials Container -->
            <div id="testimonialsList"></div>

            <!-- Load More Button -->
            <div style="text-align: center; margin-top: 3rem;">
                <button id="loadMoreBtn" style="background: transparent; border: 2px solid #1176d6; color: #1176d6; padding: 0.8rem 2.5rem; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 1rem; transition: all 0.3s; display: inline-flex; align-items: center; gap: 0.5rem;">
                    <span>Load More Testimonials</span>
                    <span style="font-size: 1.2rem;">‚Üì</span>
                </button>
            </div>
        </div>
    </section>
    
    <!-- FAQ Section -->
    <section id="faqSection" class="section-content section-bg-white">
        <div style="max-width: 1000px; margin: 0 auto;">
            <h2 class="section-title">Frequently Asked Questions</h2>
            <p style="font-size: 1.1rem; color: #666; max-width: 600px; margin: 1rem auto 2rem; text-align: center;">
                Find quick answers to common questions about Night of Laughter events
            </p>

            <!-- FAQ Categories -->
            <div style="display: flex; gap: 1rem; justify-content: center; margin-bottom: 3rem; flex-wrap: wrap;">
                <button class="faq-category active" data-category="all" style="background: #1176d6; color: white; border: none; padding: 0.8rem 1.5rem; border-radius: 25px; font-weight: bold; cursor: pointer; font-size: 0.9rem; transition: all 0.3s;">
                    All Questions
                </button>
                <button class="faq-category" data-category="tickets" style="background: white; color: #333; border: 2px solid #ddd; padding: 0.8rem 1.5rem; border-radius: 25px; font-weight: bold; cursor: pointer; font-size: 0.9rem; transition: all 0.3s;">
                    Tickets
                </button>
                <button class="faq-category" data-category="events" style="background: white; color: #333; border: 2px solid #ddd; padding: 0.8rem 1.5rem; border-radius: 25px; font-weight: bold; cursor: pointer; font-size: 0.9rem; transition: all 0.3s;">
                    Events
                </button>
                <button class="faq-category" data-category="booking" style="background: white; color: #333; border: 2px solid #ddd; padding: 0.8rem 1.5rem; border-radius: 25px; font-weight: bold; cursor: pointer; font-size: 0.9rem; transition: all 0.3s;">
                    Booking
                </button>
                <button class="faq-category" data-category="general" style="background: white; color: #333; border: 2px solid #ddd; padding: 0.8rem 1.5rem; border-radius: 25px; font-weight: bold; cursor: pointer; font-size: 0.9rem; transition: all 0.3s;">
                    General
                </button>
            </div>

            <!-- FAQ Items Container -->
            <div id="faqContainer"></div>
        </div>
    </section>
    
    <!-- Contact Section -->
    <section id="contactSection" class="section-content section-bg-light">
        <div style="max-width: 1200px; margin: 0 auto;">
            <h2 class="section-title">Get In Touch</h2>
            <p style="font-size: 1.1rem; color: #666; max-width: 600px; margin: 1rem auto 2rem; text-align: center;">
                Connect with us for inquiries, partnerships, or just to share a laugh!
            </p>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; margin-bottom: 3rem;">
                <!-- Contact Information -->
                <div>
                    <div style="background: white; border-radius: 15px; padding: 2.5rem; box-shadow: 0 5px 20px rgba(0,0,0,0.08); height: 100%;">
                        <h3 style="font-size: 1.5rem; color: #333; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 10px;">
                            <span style="display: inline-block; width: 8px; height: 30px; background: #1176d6; border-radius: 4px;"></span>
                            Contact Information
                        </h3>
                        
                        <!-- Email -->
                        <div style="display: flex; align-items: flex-start; margin-bottom: 2rem; padding-bottom: 1.5rem; border-bottom: 1px solid #eee;">
                            <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; margin-right: 1.5rem; flex-shrink: 0; display: flex; align-items: center; justify-content: center;">
                                <span style="color: white; font-size: 1.5rem;">‚úâÔ∏è</span>
                            </div>
                            <div style="flex: 1;">
                                <h4 style="margin: 0 0 0.5rem 0; color: #333; font-size: 1.1rem;">Email Address</h4>
                                <p style="margin: 0; color: #666; font-size: 1rem; line-height: 1.6;">
                                    <a href="mailto:info@nightoflaughter.com" style="color: #1176d6; text-decoration: none; font-weight: bold;">
                                        info@nightoflaughter.com
                                    </a>
                                </p>
                                <p style="margin: 0.5rem 0 0 0; color: #888; font-size: 0.9rem;">
                                    For general inquiries, ticket support, and partnership opportunities
                                </p>
                            </div>
                        </div>
                        
                        <!-- Phone -->
                        <div style="display: flex; align-items: flex-start; margin-bottom: 2rem; padding-bottom: 1.5rem; border-bottom: 1px solid #eee;">
                            <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); border-radius: 12px; margin-right: 1.5rem; flex-shrink: 0; display: flex; align-items: center; justify-content: center;">
                                <span style="color: white; font-size: 1.5rem;">üì±</span>
                            </div>
                            <div style="flex: 1;">
                                <h4 style="margin: 0 0 0.5rem 0; color: #333; font-size: 1.1rem;">Phone & WhatsApp</h4>
                                <p style="margin: 0; color: #666; font-size: 1rem; line-height: 1.6;">
                                    <a href="tel:+260973299759" style="color: #1176d6; text-decoration: none; font-weight: bold;">
                                        +260-973-299-759
                                    </a>
                                </p>
                                <p style="margin: 0.5rem 0 0 0; color: #888; font-size: 0.9rem;">
                                    Available Mon-Fri: 9AM-5PM ‚Ä¢ Sat: 10AM-2PM
                                </p>
                                <div style="margin-top: 1rem;">
                                    <a href="https://wa.me/260973299759" target="_blank" style="display: inline-flex; align-items: center; gap: 0.5rem; background: #25D366; color: white; padding: 0.6rem 1.2rem; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 0.9rem;">
                                        <span style="font-size: 1.2rem;">üí¨</span>
                                        Message on WhatsApp
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Contact Form -->
                <div>
                    <div style="background: white; border-radius: 15px; padding: 2.5rem; box-shadow: 0 5px 20px rgba(0,0,0,0.08); height: 100%;">
                        <h3 style="font-size: 1.5rem; color: #333; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 10px;">
                            <span style="display: inline-block; width: 8px; height: 30px; background: #1176d6; border-radius: 4px;"></span>
                            Send Us a Message
                        </h3>
                        
                        <form id="contactForm" class="contact-form" style="display: flex; flex-direction: column; gap: 1.5rem;">
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: bold; color: #333;">Your Name</label>
                                <input type="text" id="contactName" placeholder="Enter your full name" style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; transition: border-color 0.3s;" required>
                            </div>
                            
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: bold; color: #333;">Email Address</label>
                                <input type="email" id="contactEmail" placeholder="Enter your email" style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; transition: border-color 0.3s;" required>
                            </div>
                            
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: bold; color: #333;">Phone Number</label>
                                <input type="tel" id="contactPhone" placeholder="Enter your phone number" style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; transition: border-color 0.3s;">
                            </div>
                            
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: bold; color: #333;">Your Message</label>
                                <textarea id="contactMessage" placeholder="Type your message here..." rows="5" style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; transition: border-color 0.3s; resize: vertical;" required></textarea>
                            </div>
                            
                            <button type="submit" style="background: #1176d6; color: white; border: none; padding: 1rem; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 1rem; transition: background 0.3s; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                                <span>Send Message</span>
                                <span style="font-size: 1.2rem;">‚Üí</span>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <footer>
        NIGHT OF LAUGHTER¬© 2025 ‚Ä¢ All Rights Reserved
    </footer>

    <script>
        // ============================================
        // CONFIGURATION
        // ============================================
        const SHEETDB_API_URL = "https://sheetdb.io/api/v1/datk69lw1162m";
        const ADMIN_PASSWORD = "nol2025";
        const GOOGLE_FORM_URL = "https://docs.google.com/forms/d/e/1FAIpQLSd69gVqCrIRoLYt56gaZN6ZUW_ZuwLFeIKnHAkUtqys4NSLaA/viewform?usp=header";

        // ============================================
        // INITIALIZATION
        // ============================================
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('apiUrl').value = SHEETDB_API_URL;
            fetchEvents();
            initializeTestimonials();
            initializeFAQ();
            initializeContactForm();
            smoothScrollNavigation();
        });

        // ============================================
        // NAVIGATION IMPROVEMENTS
        // ============================================
        function smoothScrollNavigation() {
            // Smooth scroll for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    const href = this.getAttribute('href');
                    if (href === '#') return;
                    
                    e.preventDefault();
                    const targetElement = document.querySelector(href);
                    if (targetElement) {
                        const headerHeight = document.querySelector('header').offsetHeight;
                        window.scrollTo({
                            top: targetElement.offsetTop - headerHeight - 20,
                            behavior: 'smooth'
                        });
                        
                        // Update active navigation link
                        document.querySelectorAll('nav a').forEach(link => {
                            link.style.backgroundColor = '';
                        });
                        this.style.backgroundColor = '#eaeaea';
                    }
                });
            });

            // Add active class to nav links on scroll
            window.addEventListener('scroll', function() {
                const sections = document.querySelectorAll('section[id]');
                const navLinks = document.querySelectorAll('nav a');
                
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.clientHeight;
                    if (scrollY >= (sectionTop - 150)) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.style.backgroundColor = '';
                    if (link.getAttribute('href') === `#${current}`) {
                        link.style.backgroundColor = '#eaeaea';
                    }
                });
            });
        }

        // ============================================
        // ADMIN PANEL FUNCTIONS
        // ============================================
        function toggleAdminPanel() {
            const panel = document.getElementById('adminPanel');
            const password = prompt("Enter admin password:");
            if (password === ADMIN_PASSWORD) {
                panel.style.display = panel.style.display === 'block' ? 'none' : 'block';
            } else if (password !== null) {
                alert("Incorrect password");
            }
        }

        function refreshEvents() {
            document.getElementById('featuredLoader').style.display = 'block';
            document.getElementById('eventsLoader').style.display = 'block';
            const featuredSection = document.getElementById("featuredSection");
            const eventsSection = document.getElementById("eventsSection");
            featuredSection.innerHTML = '<div class="loader" id="featuredLoader"></div>';
            eventsSection.innerHTML = '<div class="loader" id="eventsLoader"></div>';
            fetchEvents();
            alert('Events refreshed successfully!');
        }

        function openAddEventForm() {
            alert('This feature would open a form to add events. Implementation depends on your backend.');
        }

        function copyApiUrl() {
            const apiUrlInput = document.getElementById('apiUrl');
            apiUrlInput.select();
            apiUrlInput.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(SHEETDB_API_URL);
            alert('API URL copied to clipboard!');
        }

        // ============================================
        // HELPER FUNCTIONS
        // ============================================
        function toggleDescription(id) {
            const desc = document.getElementById(id);
            if (desc) {
                desc.style.display = (desc.style.display === 'block') ? 'none' : 'block';
            }
        }

        function formatCurrency(amount) {
            return 'K' + parseInt(amount).toLocaleString();
        }

        // ============================================
        // SIMPLE BUY TICKET FUNCTION
        // ============================================
        function buyTicket(eventData) {
            window.open(GOOGLE_FORM_URL, '_blank');
            alert(`Redirecting to booking form for: ${eventData.name}`);
        }

        // ============================================
        // FETCH EVENTS FROM SHEETDB
        // ============================================
        async function fetchEvents() {
            try {
                const response = await fetch(SHEETDB_API_URL);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                if (data && data.length > 0) {
                    renderEvents(data);
                } else {
                    showEmptyState();
                }
            } catch (error) {
                console.error('Error fetching events:', error);
                showErrorState();
            }
        }

        function showEmptyState() {
            const featuredSection = document.getElementById("featuredSection");
            const eventsSection = document.getElementById("eventsSection");
            
            document.getElementById("featuredLoader").style.display = 'none';
            document.getElementById("eventsLoader").style.display = 'none';
            
            featuredSection.innerHTML = `
                <h2>Featured Events</h2>
                <p style="text-align: center; color: #666; padding: 40px 0;">
                    No featured events yet. Check back soon!
                </p>
            `;
            
            eventsSection.innerHTML = `
                <h2>Upcoming Events</h2>
                <p style="text-align: center; color: #666; padding: 40px 0;">
                    No upcoming events scheduled. Stay tuned!
                </p>
            `;
        }

        function showErrorState() {
            const featuredSection = document.getElementById("featuredSection");
            const eventsSection = document.getElementById("eventsSection");
            
            document.getElementById("featuredLoader").style.display = 'none';
            document.getElementById("eventsLoader").style.display = 'none';
            
            featuredSection.innerHTML = `
                <h2>Featured Events</h2>
                <div style="text-align: center; color: #666; padding: 40px 0;">
                    <p>Unable to load events. Please check your connection.</p>
                    <button onclick="refreshEvents()" style="margin-top: 20px; padding: 10px 20px; background: var(--blue); color: white; border: none; border-radius: 5px; cursor: pointer;">
                        Retry
                    </button>
                </div>
            `;
            
            eventsSection.innerHTML = '';
        }

        // ============================================
        // EVENT RENDERING
        // ============================================
        function renderEventCard(ev, idx) {
            const moreId = `desc_${idx}`;
            
            return `<div class="event-card">
                <div class="event-thumb">
                    <img src="${ev.image || 'https://via.placeholder.com/400x400?text=Event+Image'}" 
                         loading="lazy" 
                         alt="${ev.name || 'Event'}" 
                         onerror="this.src='https://via.placeholder.com/400x400?text=Event+Image'">
                </div>
                <div class="event-content">
                    <div class="event-title">${ev.name || "Event Name"}</div>
                    <div><span class="info-label">Date:</span> ${ev.date || "TBA"}</div>
                    <div><span class="info-label">Time:</span> ${ev.time || "TBA"}</div>
                    <div><span class="info-label">Venue:</span> ${ev.venue || "TBA"}</div>
                    <div class="price-box">
                        <div><b>Ticket Prices:</b></div>
                        ${ev.vip_single && ev.vip_single !== '0' ? `<div>VIP Single: K${ev.vip_single}</div>` : ''}
                        ${ev.vip_double && ev.vip_double !== '0' ? `<div>VIP Double: K${ev.vip_double}</div>` : ''}
                        ${ev.ordinary_single && ev.ordinary_single !== '0' ? `<div>Ordinary Single: K${ev.ordinary_single}</div>` : ''}
                        ${ev.ordinary_double && ev.ordinary_double !== '0' ? `<div>Ordinary Double: K${ev.ordinary_double}</div>` : ''}
                    </div>
                    <div class="btn-row">
                        <button class="btn" onclick="buyTicket(${JSON.stringify(ev).replace(/"/g, '&quot;')})">
                            Buy Ticket
                        </button>
                        <button class="btn info" onclick="toggleDescription('${moreId}')">
                            More Info
                        </button>
                    </div>
                    <div id="${moreId}" style="display:none;margin-top:10px;padding-top:10px;border-top:1px solid #eee;">
                        <p><strong>Description:</strong> ${ev.description || ev.desc || "No description available."}</p>
                        ${ev.lineup ? `<p><strong>Lineup:</strong> ${ev.lineup}</p>` : ''}
                        ${ev.terms ? `<p><strong>Terms:</strong> ${ev.terms}</p>` : ''}
                    </div>
                </div>
            </div>`;
        }

        function renderEvents(eventsData) {
            const featuredSection = document.getElementById("featuredSection");
            const eventsSection = document.getElementById("eventsSection");
            
            document.getElementById("featuredLoader").style.display = 'none';
            document.getElementById("eventsLoader").style.display = 'none';
            
            if (!eventsData || eventsData.length === 0) {
                showEmptyState();
                return;
            }
            
            const featured = eventsData.filter(ev => 
                ev.type && ev.type.toLowerCase().includes('featured')
            );
            
            const upcoming = eventsData.filter(ev => 
                !ev.type || !ev.type.toLowerCase().includes('featured')
            );
            
            if (featured.length > 0) {
                featuredSection.innerHTML = `
                    <h2>Featured Events</h2>
                    <div class="event-list">
                        ${featured.map((ev, idx) => renderEventCard(ev, idx)).join('')}
                    </div>
                `;
            } else {
                featuredSection.innerHTML = `
                    <h2>Featured Events</h2>
                    <p style="text-align: center; color: #666; padding: 40px 0;">
                        No featured events at the moment. Check back soon!
                    </p>
                `;
            }
            
            if (upcoming.length > 0) {
                eventsSection.innerHTML = `
                    <h2>Upcoming Events</h2>
                    <div class="event-list">
                        ${upcoming.map((ev, idx) => renderEventCard(ev, idx)).join('')}
                    </div>
                `;
            } else {
                eventsSection.innerHTML = `
                    <h2>Upcoming Events</h2>
                    <p style="text-align: center; color: #666; padding: 40px 0;">
                        No upcoming events scheduled. Stay tuned for announcements!
                    </p>
                `;
            }
        }

        // ============================================
        // TESTIMONIALS
        // ============================================
        function initializeTestimonials() {
            const testimonials = [
                {
                    name: "Sarah Mwale",
                    date: "March 15, 2025",
                    location: "Regular Attendee ‚Ä¢ Lusaka",
                    initials: "SM",
                    event: "ZED Laugh Festival 2025",
                    text: "Night of Laughter has completely transformed the comedy scene in Zambia! The ZED Laugh Festival was the funniest night I've had all year. The lineup was incredible, and the digital ticketing made everything so easy. Can't wait for the next one!",
                    rating: 5
                },
                {
                    name: "John Banda",
                    date: "April 5, 2025",
                    location: "First-time Attendee ‚Ä¢ Kitwe",
                    initials: "JB",
                    event: "Comedy Night Special 2024",
                    text: "I was skeptical about buying tickets online, but the process was seamless! The instant digital tickets saved me from queuing. The comedy show itself was top-notch - Chingliz had us in stitches all night. Will definitely be coming back!",
                    rating: 5
                }
            ];

            const testimonialsList = document.getElementById('testimonialsList');
            testimonials.forEach((testimonial, index) => {
                const testimonialHTML = `
                    <div class="testimonial-item" style="animation-delay: ${index * 0.1}s">
                        <div style="position: absolute; top: 20px; right: 30px; font-size: 5rem; color: rgba(17, 118, 214, 0.1); font-family: Georgia, serif; line-height: 1;">"</div>
                        
                        <div style="display: flex; align-items: center; margin-bottom: 1.5rem;">
                            <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; margin-right: 1.5rem; flex-shrink: 0; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.2rem;">
                                ${testimonial.initials}
                            </div>
                            <div style="flex: 1;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                    <h3 style="margin: 0; color: #333; font-size: 1.3rem;">${testimonial.name}</h3>
                                    <span style="color: #888; font-size: 0.9rem;">${testimonial.date}</span>
                                </div>
                                <p style="margin: 0; color: #666; font-size: 0.95rem;">${testimonial.location}</p>
                                <div style="display: flex; margin-top: 0.5rem;">
                                    ${'<span style="color: #FFD700; font-size: 1.2rem;">‚òÖ</span>'.repeat(testimonial.rating)}
                                </div>
                            </div>
                        </div>
                        
                        <p style="font-size: 1.1rem; line-height: 1.7; color: #555; margin: 0 0 1rem 0; position: relative; z-index: 1;">
                            ${testimonial.text}
                        </p>
                        
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-top: 1.5rem; padding-top: 1rem; border-top: 1px solid #eee;">
                            <span style="color: #1176d6; font-weight: bold; font-size: 0.9rem; background: rgba(17, 118, 214, 0.1); padding: 0.3rem 1rem; border-radius: 20px;">
                                ${testimonial.event}
                            </span>
                            <span style="color: #888; font-size: 0.9rem;">
                                <span style="color: #1176d6; font-weight: bold;">Verified</span> ‚Ä¢ Attended in person
                            </span>
                        </div>
                    </div>
                `;
                testimonialsList.innerHTML += testimonialHTML;
            });

            // Animate testimonials on scroll
            const testimonialObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.testimonial-item').forEach(item => {
                testimonialObserver.observe(item);
            });

            // Load more button
            document.getElementById('loadMoreBtn').addEventListener('click', function() {
                alert('This would load more testimonials from your database.');
            });
        }

        // ============================================
        // FAQ
        // ============================================
        function initializeFAQ() {
            const faqs = [
                {
                    category: "tickets",
                    question: "1. Is there a way to get tickets online instead of waiting for delivery?",
                    answer: `<p><strong>Yes, absolutely!</strong> We offer instant digital tickets through our website. Simply select your event, choose your tickets, and complete the payment. Your digital tickets will be available immediately for download.</p>`
                },
                {
                    category: "events",
                    question: "2. Can other comedians have events posted on the Night of Laughter website?",
                    answer: `<p><strong>Yes, they can!</strong> We welcome collaborations with comedians across Zambia and beyond. If you're a comedian interested in hosting an event through our platform, please get in touch with our team.</p>`
                },
                {
                    category: "tickets",
                    question: "3. What payment methods do you accept for tickets?",
                    answer: `<p>We accept various payment methods including Visa/Mastercard, mobile money (Zamtel Kwacha, MTN, Airtel Money), WhatsApp payments, and bank transfers.</p>`
                }
            ];

            const faqContainer = document.getElementById('faqContainer');
            faqs.forEach((faq, index) => {
                const faqHTML = `
                    <div class="faq-item" data-category="${faq.category}">
                        <button class="faq-question">
                            <span>${faq.question}</span>
                            <span class="faq-icon">+</span>
                        </button>
                        <div class="faq-answer">
                            <div style="padding: 0 0 2rem 0; color: #555; line-height: 1.7;">
                                ${faq.answer}
                            </div>
                        </div>
                    </div>
                `;
                faqContainer.innerHTML += faqHTML;
            });

            // FAQ functionality
            const faqItems = document.querySelectorAll('.faq-item');
            const categoryButtons = document.querySelectorAll('.faq-category');

            // Toggle FAQ items
            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question');
                question.addEventListener('click', () => {
                    const isActive = item.classList.contains('active');
                    
                    // Close all items
                    faqItems.forEach(i => i.classList.remove('active'));
                    
                    // Open clicked item if it wasn't active
                    if (!isActive) {
                        item.classList.add('active');
                    }
                });
            });

            // Category filtering
            categoryButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const category = this.getAttribute('data-category');
                    
                    // Update active category button
                    categoryButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show/hide FAQ items
                    faqItems.forEach(item => {
                        const itemCategory = item.getAttribute('data-category');
                        if (category === 'all' || itemCategory === category) {
                            item.style.display = 'block';
                        } else {
                            item.style.display = 'none';
                        }
                    });
                });
            });

            // Open first FAQ item by default
            if (faqItems.length > 0) {
                faqItems[0].classList.add('active');
            }
        }

        // ============================================
        // CONTACT FORM
        // ============================================
        function initializeContactForm() {
            const contactForm = document.getElementById('contactForm');
            
            contactForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Get form values
                const name = document.getElementById('contactName').value.trim();
                const email = document.getElementById('contactEmail').value.trim();
                const phone = document.getElementById('contactPhone').value.trim();
                const message = document.getElementById('contactMessage').value.trim();
                
                // Simple validation
                if (!name || !email || !message) {
                    alert('Please fill in all required fields.');
                    return;
                }
                
                if (!validateEmail(email)) {
                    alert('Please enter a valid email address.');
                    return;
                }
                
                // Submit button animation
                const submitBtn = this.querySelector('button[type="submit"]');
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = 'Sending...';
                submitBtn.disabled = true;
                
                // Simulate form submission
                setTimeout(() => {
                    alert(`Thank you, ${name}! Your message has been sent.\n\nWe'll get back to you within 24-48 hours.`);
                    contactForm.reset();
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                }, 1500);
            });
            
            function validateEmail(email) {
                const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return re.test(String(email).toLowerCase());
            }
        }
    </script>
</body>
</html>
